(()=>{"use strict";function e(e){e.classList.add("popup_is-opened"),document.addEventListener("keydown",n)}function t(e){e.classList.remove("popup_is-opened")}function n(e){"Escape"===e.key&&t(document.querySelector(".popup_is-opened"))}function r(e){e.target===e.currentTarget&&t(e.currentTarget)}function o(t){var n=document.querySelector("#card-template").content.querySelector(".places__item").cloneNode(!0),r=n.querySelector(".card__image");r.src=t.link,n.querySelector(".card__title").alt=t.name,n.querySelector(".card__title").textContent=t.name;var o=document.querySelector(".popup_type_image");r.addEventListener("click",(function(){var n=o.querySelector(".popup__image"),r=o.querySelector(".popup__caption");n.src=t.link,n.alt=t.name,r.textContent=t.name,e(o)}));var c=n.querySelector(".card__like-button");return c.addEventListener("click",(function(){c.classList.contains("card__like-button_is-active")?c.classList.remove("card__like-button_is-active"):c.classList.add("card__like-button_is-active")})),n.querySelector(".card__delete-button").addEventListener("click",(function(){n.remove()})),n}var c=document.querySelector(".content"),p=c.querySelector(".places__list"),a=c.querySelector(".profile__add-button"),i=document.querySelector(".popup_type_new-card"),d=document.forms["new-place"],s=d.querySelector(".popup__input_type_card-name"),u=d.querySelector(".popup__input_type_url"),l=c.querySelector(".profile__edit-button"),_=document.querySelector(".profile__title"),m=document.querySelector(".profile__description"),y=document.forms["edit-profile"],v=y.querySelector(".popup__input_type_name"),f=y.querySelector(".popup__input_type_description"),k=document.querySelector(".popup_type_edit"),q=document.querySelectorAll(".popup__close");function S(e){e.preventDefault();var n=o({name:s.value,link:u.value});p.prepend(n),d.reset(),t(i)}[{name:"Архыз",link:"https://pictures.s3.yandex.net/frontend-developer/cards-compressed/arkhyz.jpg"},{name:"Челябинская область",link:"https://pictures.s3.yandex.net/frontend-developer/cards-compressed/chelyabinsk-oblast.jpg"},{name:"Иваново",link:"https://pictures.s3.yandex.net/frontend-developer/cards-compressed/ivanovo.jpg"},{name:"Камчатка",link:"https://pictures.s3.yandex.net/frontend-developer/cards-compressed/kamchatka.jpg"},{name:"Холмогорский район",link:"https://pictures.s3.yandex.net/frontend-developer/cards-compressed/kholmogorsky-rayon.jpg"},{name:"Байкал",link:"https://pictures.s3.yandex.net/frontend-developer/cards-compressed/baikal.jpg"}].forEach((function(e){var t=o(e);p.append(t)})),a.addEventListener("click",(function(){e(i),i.classList.add("popup_is-animated"),d.addEventListener("submit",S)})),l.addEventListener("click",(function(){v.value=_.textContent,f.value=m.textContent,e(k),k.classList.add("popup_is-animated")})),q.forEach((function(e){var n=e.closest(".popup");n.addEventListener("mousedown",r),n.classList.add("popup_is-animated"),e.addEventListener("click",(function(){t(n)}))}))})();